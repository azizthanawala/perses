# Storybook

This package contains documentation for the Perses UI using [Storybook](https://storybook.js.org/).

## Getting started

## Creating stories

### Where should stories live?

Stories should live in the first entry in the list below that describes their purpose:

- Stories that are tightly coupled with a component should be colocated with the component code in the associated package (e.g. the stories for the `LineChart` component live at `ui/components/src/LineChart/LineChart.stories.tsx` as a sibling of `LineChart.tsx`).
- Package-specific stories should live in the `src/stories` directory for that package.
- Stories that provide project-wide documentation or involve components from multiple packages should live in the storybook package (`ui/storybook/stories`).

### Importing package code

Stories **MUST** import from source code (NOT compiled code) because this enables us to automatically generate documentation tables for component props from types. Stories **SHOULD** import from the top level export for that package to help ensure the component was properly exported for consumption from the package.

TODO: rewrite this with the notes about aliases.

Import like this in a story:

```ts
import { LineChart } from '..';
```

NOT like this:

```ts
// Importing from the compiled package will lose the autogenerated docs table.
import { LineChart } from '@perses-dev/components';

// Importing directly from the source file will make it easier to forget to
// export components for consumption from the main export for the package.
import { LineChart } from '.';
```

## Known issues

- The grid and background color toolbar items do not play nicely together because of some customizations we're doing to get the backgrounds to use our theme. This is likely fixable, but not urgent, so has not been addressed y et.
